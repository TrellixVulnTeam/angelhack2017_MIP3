{"_id":"humix-sense","_rev":"3-4eed0c5bf32df63012208f8300dc65b1","name":"humix-sense","description":"Foundation for Humix-Sense modules","dist-tags":{"latest":"1.1.1"},"versions":{"1.0.1":{"name":"humix-sense","version":"1.0.1","description":"Foundation for Humix-Sense modules","main":"index.js","directories":{"test":"test"},"repository":{"type":"git","url":"git+https://github.com/project-humix/node-humix-sense.git"},"scripts":{"test":"mocha"},"author":{"name":"Jeffrey Liu, jeffffrey@gmail.com"},"license":"Apache 2.0","dependencies":{"bunyan":"^1.8.1","events":"^1.0.2","nats":"^0.6.4","respawn":"^2.0.0","util":"^0.10.3"},"devDependencies":{"chai":"^3.3.0","mocha":"^2.5.3"},"engines":{"node":">=4.2"},"gitHead":"defca6ca87d0b9dc3c8ba4812ec4b34d470577a4","bugs":{"url":"https://github.com/project-humix/node-humix-sense/issues"},"homepage":"https://github.com/project-humix/node-humix-sense#readme","_id":"humix-sense@1.0.1","_shasum":"2686998fc9df2b73d7d91ef37eb3eabb546124e2","_from":".","_npmVersion":"2.14.12","_nodeVersion":"4.2.6","_npmUser":{"name":"jeffffrey","email":"jeffffrey@gmail.com"},"dist":{"shasum":"2686998fc9df2b73d7d91ef37eb3eabb546124e2","tarball":"https://registry.npmjs.org/humix-sense/-/humix-sense-1.0.1.tgz"},"maintainers":[{"name":"jeffffrey","email":"jeffffrey@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/humix-sense-1.0.1.tgz_1469663271183_0.5356646322179586"}},"1.1.0":{"name":"humix-sense","version":"1.1.0","description":"Foundation for Humix-Sense modules","main":"index.js","directories":{"test":"test"},"repository":{"type":"git","url":"git+https://github.com/project-humix/node-humix-sense.git"},"scripts":{"test":"mocha"},"author":{"name":"Jeffrey Liu","email":"jeffffrey@gmail.com"},"contributors":[{"name":"Norman Kung","email":"as93717913@hotmail.com"},{"name":"Prinz Hung","email":"prinzh@gmail.com"}],"license":"Apache-2.0","dependencies":{"events":"^1.0.2","humix-logger":"^1.0.4","nats":"^0.6.4","respawn":"^2.0.0","util":"^0.10.3"},"devDependencies":{"chai":"^3.3.0","mocha":"^3.2.0"},"engines":{"node":">=4.2"},"gitHead":"e132c17f3f201fc646c9c0e0764a4b57d985d87f","bugs":{"url":"https://github.com/project-humix/node-humix-sense/issues"},"homepage":"https://github.com/project-humix/node-humix-sense#readme","_id":"humix-sense@1.1.0","_shasum":"8d24f5b7cb421f15d34be3d09de76b5c34949cbc","_from":".","_npmVersion":"2.14.12","_nodeVersion":"4.2.6","_npmUser":{"name":"jeffffrey","email":"jeffffrey@gmail.com"},"dist":{"shasum":"8d24f5b7cb421f15d34be3d09de76b5c34949cbc","tarball":"https://registry.npmjs.org/humix-sense/-/humix-sense-1.1.0.tgz"},"maintainers":[{"name":"jeffffrey","email":"jeffffrey@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/humix-sense-1.1.0.tgz_1482936319672_0.3093641686718911"}},"1.1.1":{"name":"humix-sense","version":"1.1.1","description":"Foundation for Humix-Sense modules","main":"index.js","directories":{"test":"test"},"repository":{"type":"git","url":"git+https://github.com/project-humix/node-humix-sense.git"},"scripts":{"test":"mocha"},"author":{"name":"Jeffrey Liu","email":"jeffffrey@gmail.com"},"contributors":[{"name":"Norman Kung","email":"as93717913@hotmail.com"},{"name":"Prinz Hung","email":"prinzh@gmail.com"}],"license":"Apache-2.0","dependencies":{"events":"^1.0.2","humix-logger":"^1.0.4","nats":"^0.6.4","respawn":"^2.0.0","util":"^0.10.3"},"devDependencies":{"chai":"^3.3.0","mocha":"^3.2.0"},"engines":{"node":">=4.2"},"gitHead":"01dca3599989d02bf44dfdf1efa8d9bde71693fe","bugs":{"url":"https://github.com/project-humix/node-humix-sense/issues"},"homepage":"https://github.com/project-humix/node-humix-sense#readme","_id":"humix-sense@1.1.1","_shasum":"6ee219bd6df1a964064d6a0d32e7bbd736706c4d","_from":".","_npmVersion":"2.14.12","_nodeVersion":"4.2.6","_npmUser":{"name":"jeffffrey","email":"jeffffrey@gmail.com"},"dist":{"shasum":"6ee219bd6df1a964064d6a0d32e7bbd736706c4d","tarball":"https://registry.npmjs.org/humix-sense/-/humix-sense-1.1.1.tgz"},"maintainers":[{"name":"jeffffrey","email":"jeffffrey@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/humix-sense-1.1.1.tgz_1482937846892_0.5403904265258461"}}},"readme":"\n## Introduction\n\nThis module is part of Humix Framework. For more information about Humix project, please refer [Humix Overview](https://developer.ibm.com/open/humix/)\n\nEssentially, a `humix-sense` module is installed on edge devices (e.g. robot). It communicates with other modules and the local controller via NATS-based pub/sub messaging infrastructure.\nEach module provide the information it collects by publishing 'event', while it also listen for 'command' to trigger actions the module supports.\n\nThis module provides an event-driven model to facilitate the creation of Humix-Sense modules. Basically, you need to proivde a config that specify\n    1) the name of the module\n    2) the commands the module accepts\n    3) the event the module generates\n    4) any child process the module depends upon ( optional )\n\nWith these information, `humix-sense` module could automatically generate the namespace for each event generated and monitor the local message bus for incoming commands targeted for this module. In addition, the `humix-sense` module also facilitates life-cycle management of the sensor module: it register the module during start up, monitoring the health check events(e.g. Ping/Pong) and commands (e.g. Stop) from local contorller.\n\nThe goal is to simplify the effort required for new sensor modules to communicate with the rest of Humix components, including other sensor modules and `Humix Think`\n\n\n## How to get the code\n\nYou can either clone the project of this repository\n\n```\ngit clone https://github.com/project-humix/node-humix-sense.git\n```\n\nor get the module from npm repository\n\n```javascript\nnpm install humix-sense\n```\n\n\n## How to use\n\nYou can use this module to build a new sensor module for Humix. Here are the steps you needs:\n\n1. config your module\n2. register your module\n3. send events, if any\n4. receive commands, if any\n\n\n\n### Provide module information\n\nThe following code shows how to config your module and register it with Humix.\n\n```javascript\n\n // provide default config. If not provided, the module will lookup module.js in current dir to load the config\n\n var config = {\n\n    // define the namespace of this module\n    \"moduleName\":\"test\",\n\n    // specify the commands to monitor\n    \"commands\" : [ \"command1\", \"command2\"],\n\n    // specify the local events to listen. These are generated by other modules on the edge.\n    \"localEvents: [\"localEvent1\", \"localEvent2\"];\n\n\n    // specify the events that will be gneerated by this module.\n    // If not specified, all events generated with event() function will be emitted\n    \"events\" : [\"event1\",\"event2\"],\n\n    /*  default logger will contain 2 logger streams:\n    *   - console stream\n    *   - file stream, which create a file under ~/.humix/ directory\n    *\n    *   configurable options including\n    *        - filename: specify the log file name\n    *        - fileLevel: specify the log level of logger file, default is INFO\n    *        - consoleLevel: specify the log level of console, default is INFO\n    */\n\n    \"log\" : {\n        filename : 'humix-sample-module.log',\n        fileLevel : 'info',\n        consoleLevel : 'debug'\n    }\n\n    // (optional)\n    // if the module is implemented using other language, specify the process to lunch here\n    \"childProcess\" : {\n        \"name\" : \"./test/test.sh\",\n        \"params\" : \"7\",\n        \"respawn\" : true,\n        \"restart\" : 3\n    },\n\n\n }\n\n\nvar humix = require('humix-sense')(config);,\n\n```\n\nBasically you pass the config to the humix-sense module. The module will then register the current sensor with local humix-sense-controller.\n\nThe next step is to wait for the confirmation from humix-sense-controller\n\n```javascript\n\n humix.on('connection', function(humixSensorModule){\n       hsm = humixSensorModule;\n }\n```\n\n### Generate events\n\nOnce you get the `HumixSensorModule` object, you can then generate events with simple syntax like:\n\n```javascript\n hsm.event('event1', 'Hello World');\n```\n\n### Listen for commands\n\nand now you can receive command by monitoring the registered commands:\n\n```javascript\n\nhsm.on('command1', function(data){\n    console.log('receive data');\n});\n```\n\n\n## Example\n\nTo get a feeling of how to write a new humix module, you can reference a [Sample Humix Module](https://github.com/project-humix/humix-sample-module)\n\n## License\n\nThis module is released under Apache 2.0 license","maintainers":[{"name":"jeffffrey","email":"jeffffrey@gmail.com"}],"time":{"modified":"2016-12-28T15:10:47.110Z","created":"2016-07-27T23:47:55.057Z","1.0.1":"2016-07-27T23:47:55.057Z","1.1.0":"2016-12-28T14:45:19.909Z","1.1.1":"2016-12-28T15:10:47.110Z"},"homepage":"https://github.com/project-humix/node-humix-sense#readme","repository":{"type":"git","url":"git+https://github.com/project-humix/node-humix-sense.git"},"author":{"name":"Jeffrey Liu","email":"jeffffrey@gmail.com"},"bugs":{"url":"https://github.com/project-humix/node-humix-sense/issues"},"license":"Apache-2.0","readmeFilename":"README.md","contributors":[{"name":"Norman Kung","email":"as93717913@hotmail.com"},{"name":"Prinz Hung","email":"prinzh@gmail.com"}],"_attachments":{},"_etag":"W/\"5863d5f7-255d\"","_lastModified":"Wed, 28 Dec 2016 15:10:47 GMT"}